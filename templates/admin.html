<!DOCTYPE html>
<html lang="en">
<head>
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Admin Dashboard - Artify</title>

   <!-- iconscout cdn path -->
   <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
   <!-- CSS File Link -->
   <link rel="stylesheet" href="/static/css/admin_style.css">
            </head>
          
<body>
   {% csrf_token %}
   <div class="sidebar" id="sidebar">
      <div class="logo">
         <h2>
            <div class="logo-img">
               <h3>Artify</h3>
            </div>            
         </h2>
      </div>

      <div class="sidebar-menu">
         <ul>
            <li>
               <i class="uil uil-dashboard"></i>
               <span>Dashboard</span>
            </li>
            <li>
               <i class="uil uil-clipboard-notes"></i>
              <a href="/userpageforadmin/"><span>User</span></a>
            </li>
            <li>
               <i class="uil uil-chart-bar"></i>
               <a href="/eventspageforadmin/"><span>Events</span></a>
            </li>
            <li>
               <i class="uil uil-calendar-alt"></i>
               <a href="/productsPageForAdmin/"><span>Products</span></a>
            </li>
            <li>
               <i class="uil uil-shopping-bag"></i>
               <a href="/orderpageforadmin/"><span>Orders</span></a>
            </li>
            <li>
               <i class="uil uil-user-circle"></i>
               <a href="/adminprofile/{{admin.Admin_username}}"><span>Account</span></a>
            </li>
            <li>
               <i class="uil uil-signin"></i>
               <span>Logout</span>
            </li>
         </ul>
      </div>
   </div>

   <div class="main-content" id="main-content">
      <header class="flex">
         <h2>
            <i class="uil uil-bars" id="menu-icon"></i>
            Dashboard
         </h2>
         <button><a href="/AddCustomerForAdmin/"class="link"> Add Customer </a></button>
         <button><a href="/AddArtistForAdmin/" class="link"> Add Artist </a></button>
         <button><a href="/AddArtgallerymanagerForAdmin/" class="link"> Add ArtGalleryManager </a></button>
        
         <div class="admin-box flex" >
            <img src="/static/img/logo7.jpg" width="30px" height="30px">
            <div>
               <h4>{{admin.Admin_username}}</h4>
               <small>Admin</small>
            </div>
         </div>
      </header>

      <main>
         <div class="cards">
            <div class="single-card">
               <div>
                  <span>EARNINGS (MONTHLY)</span>
                  <h2>â‚¹ 4,00,000</h2>
               </div>
               <i class="uil uil-calender"></i>
            </div>
            <div class="single-card">
               <div>
                  <span>Total User Register</span>
                  <h2>{{userTotal}}</h2>
               </div>
               <i class="uil uil-dollar-sign-alt"></i>
            </div>
            <div class="single-card">
               <div>
                  <span>Total Products Register</span>
                  <h2>{{productTotal}}</h2>
               </div>
               <i class="uil uil-chart-bar"></i>
            </div>
            
         </div>


         <div class="wrapper flex">
            <div class="projects">
               <div class="card-header flex">
                  <h3>Recents User's</h3>
                  <button><a href="/userpageforadmin/"> See all > </a><i class="link"></i></button>
               </div>

               <table>
                  <thead>
                     <th>
                        <tr>
                           <td>Name</td>
                           <td>Username</td>
                           <td>Email</td>
                           <td>Contact_No</td>
                           <td>Role</td>
                           <td>Action</td>
                        </tr>
                     </th>
                  </thead>

                  <tbody>
                   
                     <tr>
                        <td>{{customer.Customer_name}}</td>
                        <td>{{customer.Customer_username}}</td>
                        <td>{{customer.Customer_Email}}</td>
                        <td>{{customer.Contact_no}}</td>
                        <td>customer</td>
                        <td>
                           <a href="/edit/{{ customer.Customer_username }}"><span class="glyphicon glyphicon-pencil" >Edit</span></a>
                           <a href="/destroy/{{ customer.Customer_username }}"><span class="glyphicon glyphicon-pencil" onclick="popup()" >Delete</span></a>  
                          <script>
                           function popup() {
                              window.alert("Entry deleted successfully")
                           }
                          </script>
                        </td>
                     </tr>
                   
                      <tr>
                         <td>{{admin.Admin_name}}</td>
                         <td>{{admin.Admin_username}}</td>
                         <td>{{admin.Admin_email}}</td>
                         <td>{{admin.Contact_no}}</td>
                         <td>admin</td>
                      </tr>
                     
                 
                     <tr>
                        <td>{{artist.Artist_name}}</td>
                        <td>{{artist.Artist_username}}</td>
                        <td>{{artist.Artist_email}}</td>
                        <td>{{artist.Artist_contact_no}}</td>
                        <td>artist</td>
                        <td>
                           <a href="/editArtist/{{ artist.Artist_username }}"><span class="glyphicon glyphicon-pencil" >Edit</span></a>
                           <a href="/destroyArtist/{{ artist.Artist_username }}"><span class="glyphicon glyphicon-pencil" onclick="popup()" >Delete</span></a>  
                        </td>
                     </tr>
                     
                     
                     <tr>
                        <td>{{artgallerymanager.Name}}</td>
                        <td>{{artgallerymanager.Username}}</td>
                        <td>{{artgallerymanager.Email}}</td>
                        <td>{{artgallerymanager.Contact_no}}</td>
                        <td>ArtGalleryManager</td>
                        <td>
                           <a href="/editArtGalleryManager/{{ artgallerymanager.Username }}"><span class="glyphicon glyphicon-pencil" >Edit</span></a>
                           <a href="/destroyArtGalleryManager/{{ artgallerymanager.Username }}"><span class="glyphicon glyphicon-pencil" onclick="popup()" >Delete</span></a>  
                        </td>
                     </tr>
                     
                
                  </tbody>
               </table>
            </div>

            <div class="customers">
               <div class="card-header flex">
                  <h3>New Products</h3>
                  <button><a href="/productsPageForAdmin/">See all</a><i class="link"></i></button>
               </div>

               <table>
                  <thead>
                     <th>
                        <tr>
                           <td>Name</td>
                           <td>Decription</td>
                           <td>Price</td>
                           <td>Artist_id</td>
                           <td>Picture</td>
                           <td>Action</td>
                        </tr>
                     </th>
                  </thead>
                  <tr class="flex">
                     {% for product in product %}  
                     <tr>
                        <td>{{product.Name}}</td>
                        <td>{{product.Description}}</td>
                        <td>{{product.Price}}</td>
                        <td>{{product.Artist_id}}</td>
                        {% if product.Picture %}
                        <td>
                       <img src="{{product.Picture.url}}" width="50px" height="50px" alt="">
                       </td>
                       {% endif %}
                       <td>
                        <a href="/editProduct/{{ product.Product_id }}"><span class="glyphicon glyphicon-pencil" >Edit</span></a>
                       <a href="/destroy/{{ product.Product_id }}"><span class="glyphicon glyphicon-pencil" onclick="popup()" >Delete</span></a>  
                      
                       </td>
                       
                     </tr>
                     {% endfor %}
               </table>
               <div class="customers">
                  <div class="card-header flex">
                     <h3>New Events</h3>
                     <button>See all <i class="uil uil-angle-right"></i></button>
                  </div>
   
                  <table>
                     <thead>
                        <th>
                           <tr>
                              <td>Name</td>
                              <td>Events_Time</td>
                              <td>Events_Date</td>
                              <td>Event_capacity</td>
                              <td>Event_venue</td>
                              <td>Action</td>
                           </tr>
                        </th>
                     </thead>
                     <tr class="flex">
                          
                        <tr>
                           <td>{{event.Event_name}}</td>
                           <td>{{event.Event_time}}</td>
                           <td>{{event.Event_date}}</td>
                           <td>{{event.Event_capacity}}</td>
                           <td>{{event.Event_venue}}</td>
                          <td>
                           <a href="/editProduct/{{ product.Product_id }}"><span class="glyphicon glyphicon-pencil" >Edit</span></a>
                          <a href="/destroy/{{ product.Product_id }}"><span class="glyphicon glyphicon-pencil" onclick="popup()" >Delete</span></a>  
                         
                          </td>
                          
                        </tr>
                        
                     </table>
              
            </div>
         </div>
      </main>
   </div>

   <script>
      let sideBar = document.getElementById('sidebar');
      let menuIcon = document.getElementById('menu-icon');
      let mainContent = document.getElementById('main-content');

      menuIcon.onclick = () => {
         sideBar.classList.toggle('toggleMenu');
         mainContent.classList.toggle('toggleContent');
      }
   </script>
</body>
</html>
